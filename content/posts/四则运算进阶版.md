---
title: "四则运算进阶版"
description: "C语言四则运算并判断正误"
tags: [ "C语言","函数调用","四则运算"]
categories: [ "C语言"]
keywords: [ "C语言"]
date: 2020-05-03T00:35:22Z
#lastmod:2020-1-1
# CJKLanguage: Chinese, Japanese, Korean
isCJKLanguage: true
# 如果draft为true，除非使用 --buildDrafts 参数，否则不会发布文章
draft: false
# 设置文章的过期时间，如果是已过期的文章则不会发布，除非使用 --buildExpired 参数
#expiryDate: 2020-01-01
# 设置文章的发布时间，如果是未来的时间则不会发布，除非使用 --buildFuture 参数
#publishDate: 2020-01-01
# 排序你的文章
#weight: 40
---

Talk is easy, Show you code！
```c
#include "stdio.h"
#include "math.h"
int cal(float x, float y, float z, char c)
{
	int t;
	t = fabs(x * y - z) <= (1e-6);
	switch (c)
	{
	case '+':
		if (x + y == z)
			return 1;
		else
		{
		printf("非常遗憾，你做错了，正确答案是%f\n",x+y);
			return 0;
		}
		break;

	case '-':
		if (x - y == z)
			return 1;
		else
		{
		printf("非常遗憾，你做错了，正确答案是%f\n",x-y);
			return 0;
		}
		break;

	case '*':
		if (x * y == z || (x - (int)x > 0 && t || y - (int)y > 0 && t))

			return 1;
		else
		{
		printf("非常遗憾，你做错了，正确答案是%f\n",x*y);
			return 0;
		}
		break;

	case '/':
		if ((y != 0) && (x / y == z))
			return 1;
		else
		{
		printf("非常遗憾，你做错了，正确答案是%f\n",x/y);
			return 0;
		}
		break;

	default:
		printf("本程序只支持四则运算！\n");
	}

	return 0;
}

int main()
{
	float x, y, z;
	char c, t;
	int i, correct = 0, fault = 0;
	printf("请输入要打分的题目个数\n");
	scanf("%d", &i);
	while (i--)
	{
		printf("请输入一个四则运算表达式，以回车结束\n");
		scanf("%f%c%f%c%f", &x, &c, &y, &t, &z);
		if (cal(x, y, z, c))
			correct++;
		// printf("干得漂亮！你答对了！\n");
		else
			fault++;
		// printf("非常遗憾！你答错了！\n");
	}
	printf
		("打分完毕！\n你总共做对了%d道题目\n做错了%d道题目\n一题10分，总分数是%d分\n",
		 correct, fault, correct * 10);
	printf("程序结束");
	return 0;
}
```
