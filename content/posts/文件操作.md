---
title: "文件操作"
description: "C语言文件操作"
tags: [ "C语言","函数调用","文件操作"]
categories: [ "C语言"]
keywords: [ "C语言"]
date: 2020-05-03T00:35:22Z
#lastmod:2020-1-1
# CJKLanguage: Chinese, Japanese, Korean
isCJKLanguage: true
# 如果draft为true，除非使用 --buildDrafts 参数，否则不会发布文章
draft: false
# 设置文章的过期时间，如果是已过期的文章则不会发布，除非使用 --buildExpired 参数
#expiryDate: 2020-01-01
# 设置文章的发布时间，如果是未来的时间则不会发布，除非使用 --buildFuture 参数
#publishDate: 2020-01-01
# 排序你的文章
#weight: 40
---

Talk is easy, Show you code！
```c
#include <stdio.h>
void writeConfig();
void writeQues(char[], int, int);
void readConfig(char[]);
int main()
{
	FILE *Config;
	int how;
	char set[64];
	char path[] = { "/mnt/sdcard/config.txt" };
	Config = fopen(path, "r");
	if (Config != NULL)
	{
		printf("读取配置文件成功！\n配置文件内容如下：\n");
		printf("使用该配置请输入1，重新设置请输入2\n");
		scanf("%d", &how);
		fclose(Config);
	}
	else
	{
		printf
			("读取文件失败！\n您可能是第一次运行本软件\n请输入某些程序需要的参数\n");
		fclose(Config);
		writeConfig();
	}
	if (how == 1)
	{
		printf("使用已经存在的配置文件生成题目中\n");
		// writeQues(path);
	}
	else if (how == 2)
	{
		writeConfig();
	}
	printf("程序结束");
	return 0;
}

void writeConfig()
{




}

void writeQues(char sign[], int a, int b)
{

}

readConfig(char path[], char *res)
{
	FILE *Cf;
	char sign[32] = { 0 };
	char rand[16] = { 0 };
	int i;
	Cf = fopen(path, "w+");
	if (Cf == NULL)
		printf("文件打开失败\n");
	else
	{
		for (i = 1; i < 5; i++)
		{
			if (i == 2)
				fgets(sign, 16, Cf);
			if (i == 4)
				fgets(rand, 16, Cf);
		}
	}
	strcpy(sign, rand);
	strcpy(res, sign);

}
```
